/// @author Davide Marchet
/// @param {String} $query - Query name
/// @description Mixin per la gestione delle media query reattive
/// @require $defaults_react_breakpoints, $react_breakpoints

@use 'sass:map';
@use 'sass:meta';

@mixin react($query) {
  $merged: map.merge($defaults_react_breakpoints, $react_breakpoints);

  @if map.has-key($merged, $query) {
    $query: map.get($merged, $query);
    @if meta.type-of($query) == 'string' {
      @media #{meta.inspect($query)} {
        @content;
      }
    } @else {
      @media #{meta.inspect($query)} {
        @content;
      }
    }
  } @else {
    @warn "No value could be retrieved from `#{$query}`. "
        + "Available queries are: #{map.keys(map.merge($defaults_react_breakpoints, $react_breakpoints))}.";
  }
}
